---
# rhythm_library.yml
piano_patterns:
  piano_block_quarters_simple:
    description: Simple quarter note block chords for piano.
    tags:
    - piano
    - simple
    - block_chord
    - quarter_notes
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.8
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.75
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.8
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.75
  piano_lh_quarter_roots:
    description: Simple quarter note roots for LH piano.
    tags:
    - piano
    - simple
    - root_notes
    - quarter_notes
    - left_hand
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.7
      type: root
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.65
      type: root
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.7
      type: root
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.65
      type: root
  piano_flowing_arpeggio_eighths_rh:
    description: Flowing eighth note arpeggio for RH piano.
    tags:
    - piano
    - arpeggio
    - eighth_notes
    - right_hand
    arpeggio_type: up
    note_duration_ql: 0.5
    pattern:
    - offset: 0.0
      duration: 4.0
      velocity_factor: 0.7
  piano_chordal_moving_rh_pattern:
    description: Chordal and moving rhythm pattern for RH piano.
    tags:
    - piano
    - chordal
    - moving
    - right_hand
    pattern:
    - offset: 0.0
      duration: 1.5
      velocity_factor: 0.75
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.7
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.75
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.7
  piano_powerful_block_8ths_rh:
    description: Powerful 8th note block chords for RH piano.
    tags:
    - piano
    - powerful
    - block_chord
    - eighth_notes
    - right_hand
    pattern:
    - offset: 0.0
      duration: 0.5
      velocity_factor: 0.9
    - offset: 0.5
      duration: 0.5
      velocity_factor: 0.85
    - offset: 1.0
      duration: 0.5
      velocity_factor: 0.9
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.85
    - offset: 2.0
      duration: 0.5
      velocity_factor: 0.9
    - offset: 2.5
      duration: 0.5
      velocity_factor: 0.85
    - offset: 3.0
      duration: 0.5
      velocity_factor: 0.9
    - offset: 3.5
      duration: 0.5
      velocity_factor: 0.85
  piano_sustained_root_lh:
    description: Sustained root notes for LH piano.
    tags:
    - piano
    - sustained
    - root_notes
    - left_hand
    pattern:
    - offset: 0.0
      duration: 4.0
      velocity_factor: 0.6
      type: root
  piano_walking_bass_like_lh:
    description: Walking bass like pattern for LH piano.
    tags:
    - piano
    - walking_bass
    - left_hand
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.7
      type: root
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.65
      type: approaching_next_beat_or_chord_tone
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.7
      type: root_or_fifth
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.65
      type: leading_to_next_chord
  piano_active_octave_bass_lh:
    description: Active octave bass pattern for LH piano.
    tags:
    - piano
    - active
    - octave_bass
    - left_hand
    pattern:
    - offset: 0.0
      duration: 0.5
      velocity_factor: 0.75
      type: octave_root
    - offset: 0.5
      duration: 0.5
      velocity_factor: 0.7
    - offset: 1.0
      duration: 0.5
      velocity_factor: 0.75
      type: octave_root
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.7
    - offset: 2.0
      duration: 0.5
      velocity_factor: 0.75
      type: octave_root
    - offset: 2.5
      duration: 0.5
      velocity_factor: 0.7
    - offset: 3.0
      duration: 0.5
      velocity_factor: 0.75
      type: octave_root
    - offset: 3.5
      duration: 0.5
      velocity_factor: 0.7
  default_piano_quarters:
    description: Piano default quarter note rhythm (Fallback).
    tags:
    - piano
    - default
    - quarter_notes
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.7
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.7
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.7
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.7
  piano_lh_whole_notes:
    description: Simple whole note roots for LH piano (fallback).
    tags:
    - piano
    - simple
    - root_notes
    - whole_notes
    - left_hand
    - fallback
    pattern:
    - offset: 0.0
      duration: 4.0
      velocity_factor: 0.6
      type: root
  piano_fallback_block:
    description: Piano fallback block chords (simple).
    tags:
    - piano
    - fallback
    - block_chord
    pattern:
    - offset: 0.0
      duration: 4.0
      velocity_factor: 0.6
drum_patterns:
  default_drum_pattern:
    description: Default simple kick and snare (Global Fallback).
    time_signature: 4/4
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 90
      duration: 0.1
    - instrument: snare
      offset: 1.0
      velocity: 90
      duration: 0.1
    - instrument: kick
      offset: 2.0
      velocity: 90
      duration: 0.1
    - instrument: snare
      offset: 3.0
      velocity: 90
      duration: 0.1
  ballad_soft_kick_snare_8th_hat:
    description: Refined soft ballad with subtle ghost snare and expressive hats.
    time_signature: 4/4
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 75
      duration: 0.2
    - instrument: chh
      offset: 0.0
      velocity: 60
      duration: 0.1
    - instrument: chh
      offset: 0.48
      velocity: 50
      duration: 0.1
    - instrument: snare
      offset: 1.0
      velocity: 78
      duration: 0.2
    - instrument: chh
      offset: 1.0
      velocity: 58
      duration: 0.1
    - instrument: chh
      offset: 1.52
      velocity: 53
      duration: 0.1
    - instrument: kick
      offset: 2.0
      velocity: 72
      duration: 0.2
    - instrument: ghost_snare
      offset: 2.25
      velocity: 40
      duration: 0.1
    - instrument: chh
      offset: 2.0
      velocity: 60
      duration: 0.1
    - instrument: chh
      offset: 2.48
      velocity: 52
      duration: 0.1
    - instrument: snare
      offset: 3.0
      velocity: 78
      duration: 0.2
    - instrument: chh
      offset: 3.0
      velocity: 60
      duration: 0.1
    - instrument: chh
      offset: 3.5
      velocity: 55
      duration: 0.1
  rock_ballad_build_up_8th_hat:
    description: Rock ballad with dynamic crescendos and ghost textures.
    time_signature: 4/4
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 88
      duration: 0.1
    - instrument: chh
      offset: 0.0
      velocity: 70
      duration: 0.1
    - instrument: kick
      offset: 0.75
      velocity: 80
      duration: 0.1
    - instrument: ghost_snare
      offset: 0.9
      velocity: 40
      duration: 0.1
    - instrument: chh
      offset: 0.5
      velocity: 63
      duration: 0.1
    - instrument: snare
      offset: 1.0
      velocity: 92
      duration: 0.1
    - instrument: chh
      offset: 1.0
      velocity: 68
      duration: 0.1
    - instrument: chh
      offset: 1.5
      velocity: 64
      duration: 0.1
    - instrument: kick
      offset: 2.0
      velocity: 85
      duration: 0.1
    - instrument: chh
      offset: 2.0
      velocity: 70
      duration: 0.1
    - instrument: kick
      offset: 2.5
      velocity: 80
      duration: 0.1
    - instrument: chh
      offset: 2.5
      velocity: 65
      duration: 0.1
    - instrument: snare
      offset: 3.0
      velocity: 93
      duration: 0.1
    - instrument: ghost_snare
      offset: 3.25
      velocity: 35
      duration: 0.1
    - instrument: chh
      offset: 3.0
      velocity: 70
      duration: 0.1
    - instrument: chh
      offset: 3.5
      velocity: 65
      duration: 0.1
    fill_ins:
      expressive_fill:
      - instrument: tom1
        offset: 0.0
        velocity: 95
        duration: 0.125
      - instrument: tom2
        offset: 0.25
        velocity: 105
        duration: 0.125
      - instrument: tom3
        offset: 0.5
        velocity: 115
        duration: 0.125
      - instrument: crash
        offset: 0.75
        velocity: 127
        duration: 1.0
      snare_buzz_roll:
      - instrument: snare
        offset: 0.0
        velocity: 60
        duration: 0.05
      - instrument: snare
        offset: 0.1
        velocity: 65
        duration: 0.05
      - instrument: snare
        offset: 0.2
        velocity: 70
        duration: 0.05
      - instrument: snare
        offset: 0.3
        velocity: 80
        duration: 0.05
      - instrument: snare
        offset: 0.4
        velocity: 90
        duration: 0.05
  anthem_rock_chorus_16th_hat:
    description: Pro-style anthem rock chorus with nuanced 16th hats and ghost notes.
    time_signature: 4/4
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 110
      duration: 0.1
    - instrument: chh
      offset: 0.0
      velocity: 85
      duration: 0.05
    - instrument: chh
      offset: 0.24
      velocity: 70
      duration: 0.05
    - instrument: chh
      offset: 0.48
      velocity: 78
      duration: 0.05
    - instrument: chh
      offset: 0.72
      velocity: 65
      duration: 0.05
    - instrument: ghost_snare
      offset: 0.9
      velocity: 40
      duration: 0.1
    - instrument: snare
      offset: 1.0
      velocity: 105
      duration: 0.1
    - instrument: chh
      offset: 1.0
      velocity: 85
      duration: 0.05
    - instrument: chh
      offset: 1.24
      velocity: 70
      duration: 0.05
    - instrument: chh
      offset: 1.48
      velocity: 78
      duration: 0.05
    - instrument: chh
      offset: 1.72
      velocity: 65
      duration: 0.05
    - instrument: kick
      offset: 2.0
      velocity: 110
      duration: 0.1
    - instrument: crash
      offset: 2.0
      velocity: 100
      duration: 0.5
    - instrument: chh
      offset: 2.0
      velocity: 85
      duration: 0.05
    - instrument: chh
      offset: 2.24
      velocity: 70
      duration: 0.05
    - instrument: chh
      offset: 2.48
      velocity: 78
      duration: 0.05
    - instrument: chh
      offset: 2.72
      velocity: 65
      duration: 0.05
    - instrument: ghost_snare
      offset: 2.9
      velocity: 45
      duration: 0.1
    - instrument: snare
      offset: 3.0
      velocity: 105
      duration: 0.1
    - instrument: chh
      offset: 3.0
      velocity: 85
      duration: 0.05
    - instrument: chh
      offset: 3.24
      velocity: 70
      duration: 0.05
    - instrument: chh
      offset: 3.48
      velocity: 78
      duration: 0.05
    - instrument: chh
      offset: 3.72
      velocity: 65
      duration: 0.05
    fill_ins:
      soulful_tom_roll:
      - instrument: tom1
        offset: 0.0
        velocity: 90
        duration: 0.125
      - instrument: tom2
        offset: 0.25
        velocity: 100
        duration: 0.125
      - instrument: tom3
        offset: 0.5
        velocity: 115
        duration: 0.125
      - instrument: crash
        offset: 0.75
        velocity: 127
        duration: 1.0
  lofi_hh_half_time:
    description: Lo‑fi hip‑hop style half‑time drums with swing hats.
    time_signature: 4/4
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 85
      duration: 0.05
    - instrument: snare
      offset: 2.0
      velocity: 90
      duration: 0.05
    - instrument: ohh
      offset: 0.0
      velocity: 60
      duration: 0.05
    - instrument: chh
      offset: 1.4
      velocity: 50
      duration: 0.05
    - instrument: chh
      offset: 1.9
      velocity: 45
      duration: 0.05
    - instrument: ohh
      offset: 2.0
      velocity: 62
      duration: 0.05
    - instrument: chh
      offset: 3.4
      velocity: 52
      duration: 0.05
    - instrument: chh
      offset: 3.9
      velocity: 47
      duration: 0.05
  no_drums:
    description: Silence for drums.
    time_signature: 4/4
    pattern: []
  no_drums_or_sparse_cymbal:
    description: Silence or very sparse cymbal swells (verse / intro).
    time_signature: 4/4
    pattern: []
  no_drums_or_gentle_cymbal_swell:
    description: Gentle swell on crash / ride; otherwise silence.
    time_signature: 4/4
    pattern: []
  no_drums_or_sparse_chimes:
    description: Sparse wind-chime or shaker hits; default empty.
    time_signature: 4/4
    pattern: []
  base_4_4_straight_kick_snare:
    description: Basic 4/4 straight kick on 1 & 3, snare on 2 & 4.
    time_signature: 4/4
    length_beats: 4
    swing:
      type: eighth
      ratio: 0.50
    density_level: low
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 90
    - instrument: snare
      offset: 1.0
      velocity: 90
    - instrument: kick
      offset: 2.0
      velocity: 90
    - instrument: snare
      offset: 3.0
      velocity: 90
    fill_ins: {}
  rock_beat_A_8th_hat:
    inherit: base_4_4_straight_kick_snare
    description: Rock beat with 8th‑note closed hats.
    density_level: medium
    tags:
    - drums
    - rock
    - 8th_hat
    - groove_mid
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 100
    - instrument: chh
      offset: 0.0
      velocity: 72
    - instrument: chh
      offset: 0.5
      velocity: 60
    - instrument: snare
      offset: 1.0
      velocity: 100
    - instrument: chh
      offset: 1.0
      velocity: 70
    - instrument: chh
      offset: 1.5
      velocity: 60
    - instrument: kick
      offset: 2.0
      velocity: 98
    - instrument: ghost_snare
      offset: 2.25
      velocity: 40
      duration: 0.05
      probability: 0.6
    - instrument: chh
      offset: 2.0
      velocity: 72
    - instrument: chh
      offset: 2.5
      velocity: 60
    - instrument: snare
      offset: 3.0
      velocity: 100
    - instrument: chh
      offset: 3.0
      velocity: 70
    - instrument: chh
      offset: 3.5
      velocity: 60
    fill_ins:
      rock_fill_1:
      - instrument: tom1
        offset: 0.0
        velocity: 95
        duration: 0.125
      - instrument: tom2
        offset: 0.25
        velocity: 105
        duration: 0.125
      - instrument: tom3
        offset: 0.5
        velocity: 115
        duration: 0.125
      - instrument: crash
        offset: 0.75
        velocity: 120
        duration: 1.0
  rock_beat_A_16th_hat_slight_swing:
    inherit: rock_beat_A_8th_hat
    description: Rock beat variant with 16‑note hats and slight swing.
    swing:
      type: sixteenth
      ratio: 0.55
    density_level: high
    tags:
    - drums
    - rock
    - 16th_hat
    - anthem_high
    pattern:
    - instrument: kick
      offset: 0.0
      velocity: 100
    - instrument: snare
      offset: 1.0
      velocity: 105
    - instrument: kick
      offset: 2.0
      velocity: 100
    - instrument: snare
      offset: 3.0
      velocity: 105
    - instrument: chh
      offset: 0.0
      velocity: 74
    - instrument: chh
      offset: 0.25
      velocity: 58
    - instrument: chh
      offset: 0.5
      velocity: 68
    - instrument: chh
      offset: 0.75
      velocity: 58
    - instrument: chh
      offset: 1.0
      velocity: 74
    - instrument: chh
      offset: 1.25
      velocity: 58
    - instrument: chh
      offset: 1.5
      velocity: 68
    - instrument: chh
      offset: 1.75
      velocity: 58
    - instrument: chh
      offset: 2.0
      velocity: 74
    - instrument: chh
      offset: 2.25
      velocity: 58
    - instrument: chh
      offset: 2.5
      velocity: 68
    - instrument: chh
      offset: 2.75
      velocity: 58
    - instrument: chh
      offset: 3.0
      velocity: 74
    - instrument: chh
      offset: 3.25
      velocity: 58
    - instrument: chh
      offset: 3.5
      velocity: 68
    - instrument: chh
      offset: 3.75
      velocity: 58
    fill_ins:
      fast_tom_roll:
      - instrument: tom1
        offset: 0.0
        velocity: 92
        duration: 0.1
      - instrument: tom2
        offset: 0.16
        velocity: 100
        duration: 0.1
      - instrument: tom3
        offset: 0.32
        velocity: 108
        duration: 0.1
      - instrument: crash
        offset: 0.48
        velocity: 124
        duration: 1.0
  drums_algo_random_fill: # このキーは2回出現しているが、内容は同じなので問題なし
    description: タム主体のランダムフィル（フィルキーが指定されたときにのみ使用）
    tags:
    - drums
    - algorithmic
    - fill
    - random_tom_fill
    time_signature: 4/4
    pattern_type: random_tom_fill
    options:
      fill_density: 0.7
      allow_snare: true
      max_velocity: 110
    pattern: []
bass_patterns: # ★★★ bass_patterns は1つにまとめる ★★★
  bass_quarter_notes:
    description: Simple quarter-note roots (default).
    tags:
    - bass
    - default
    - quarter_notes
    - root
    time_signature: 4/4
    pattern_type: fixed_pattern
    velocity_base: 72
    target_octave: 2
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.75
      type: root
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.70
      type: root
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.75
      type: root
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.70
      type: root
  root_only:
    description: Whole‑ or half‑note roots only (very low intensity).
    tags:
    - bass
    - simple
    - long_notes
    - root
    time_signature: 4/4
    pattern_type: algorithmic_root_only
    velocity_base: 65
    target_octave: 2
    pattern:
    - offset: 0.0
      duration: 4.0
      velocity_factor: 0.60
  root_fifth:
    description: Root‑fifth alternation pattern (ballad feel).
    tags:
    - bass
    - ballad
    - root_fifth
    time_signature: 4/4
    pattern_type: algorithmic_root_fifth
    velocity_base: 70
    target_octave: 2
    pattern:
    - offset: 0.0
      duration: 2.0
      velocity_factor: 0.70
    - offset: 2.0
      duration: 2.0
      velocity_factor: 0.65
  walking:
    description: 4‑beat walking bass (quarter notes).
    tags:
    - bass
    - walking
    - jazz
    time_signature: 4/4
    pattern_type: algorithmic_walking
    velocity_base: 73
    target_octave: 2
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.75
    - offset: 1.0
      duration: 1.0
      velocity_factor: 0.70
    - offset: 2.0
      duration: 1.0
      velocity_factor: 0.75
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.70
  bass_walking_8ths:
    description: Swing‑feel walking bass in straight 8ths (root ➜ approach ➜ chord‑tone ➜ approach).
    tags:
    - bass
    - walking
    - swing
    - eighth_notes
    - algorithmic
    time_signature: 4/4
    pattern_type: walking_8ths
    velocity_base: 70
    target_octave: 2
    options:
      approach_note_prob: 0.4
      swing_ratio: 0.0
    pattern:
    - offset: 0.0
      scale_degree: 1
      velocity_factor: 1.00
    - offset: 0.5
      scale_degree: 3
      velocity_factor: 0.90
    - offset: 1.0
      scale_degree: 5
      velocity_factor: 0.95
    - offset: 1.5
      scale_degree: 6
      velocity_factor: 0.85
    - offset: 2.0
      scale_degree: 1
      octave: -1
      velocity_factor: 1.05
    - offset: 2.5
      scale_degree: 4
      velocity_factor: 0.90
    - offset: 3.0
      scale_degree: "♭7"
      velocity_factor: 0.95
    - offset: 3.5
      scale_degree: 5
      velocity_factor: 1.00
  bass_walking_blues:
    description: 8分音符のスウィング・ウォーキング (Blues).
    tags:
    - bass
    - walking
    - blues
    - eighth_notes
    - algorithmic
    time_signature: 4/4
    pattern_type: walking_blues
    velocity_base: 72
    target_octave: 2
    options:
      shuffle: 0.67
  bass_funk_octave:
    description: ファンク的な2オクターブ跳躍リック
    tags:
    - bass
    - funk
    - octave
    - algorithmic
    time_signature: 4/4
    pattern_type: funk_octave_pops
    velocity_base: 80
    target_octave: 2
  bass_latin_tumbao:
    description: ラテン系トゥンバオ
    tags:
    - bass
    - latin
    - tumbao
    - algorithmic
    time_signature: 4/4
    pattern_type: latin_tumbao
    velocity_base: 75
    target_octave: 2
  bass_half_time_pop:
    description: 'Half‑time pop groove: long roots with eighth‑anticipation pickup on beat 4&.'
    tags:
    - bass
    - pop
    - half_time
    - algorithmic
    time_signature: 4/4
    pattern_type: half_time_pop
    velocity_base: 75
    target_octave: 2
    options:
      ghost_on_beat_2_and_a_half: true
  bass_syncopated_rnb:
    description: 16th‑syncopated R&B / neo‑soul motif with ghost 16ths.
    tags:
    - bass
    - rnb
    - syncopated
    - sixteenth_notes
    - algorithmic
    time_signature: 4/4
    pattern_type: syncopated_rnb
    velocity_base: 78
    target_octave: 2
    options:
      ghost_velocity_ratio: 0.5
  bass_pump_8th_octaves: # このキーは2回出現しているが、内容は同じなので問題なし
    description: Driving 8th‑note root‑octave pump (rock chorus staple).
    time_signature: 4/4
    pattern_type: root_octave_8ths # または fixed_pattern
    note_duration_ql: 0.5 # pattern_typeがroot_octave_8thsの場合に参照される
    velocity_base: 83
    tags:
    - bass
    - pump
    - octave
    - eighth_notes
    - chorus
    pattern: # fixed_patternとして使う場合の定義例
    - offset: 0.0
      duration: 0.5
      velocity_factor: 1.00
      type: root
    - offset: 0.5
      duration: 0.5
      velocity_factor: 0.95
      type: octave_root
    - offset: 1.0
      duration: 0.5
      velocity_factor: 1.00
      type: root
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.95
      type: octave_root
    - offset: 2.0
      duration: 0.5
      velocity_factor: 1.00
      type: root
    - offset: 2.5
      duration: 0.5
      velocity_factor: 0.95
      type: octave_root
    - offset: 3.0
      duration: 0.5
      velocity_factor: 1.00
      type: root
    - offset: 3.5
      duration: 0.5
      velocity_factor: 0.95
      type: octave_root
  bass_reggae_offbeat:
    description: Reggae one‑drop off‑beat 8ths with muted pickup.
    tags:
    - bass
    - reggae
    - offbeat
    - fixed_pattern
    time_signature: 4/4
    pattern_type: fixed_pattern
    velocity_base: 75
    target_octave: 2
    pattern:
    - offset: 1.0
      duration: 0.5
      velocity_factor: 0.85
      type: root
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.80
      type: fifth
    - offset: 2.0
      duration: 0.5
      velocity_factor: 0.90
      type: root
    - offset: 2.5
      duration: 0.5
      velocity_factor: 0.85
      type: fifth
  bass_808_trap:
    description: 808 slide & hold pattern for modern trap.
    tags:
    - bass
    - trap
    - "808"
    - slide
    - fixed_pattern
    time_signature: 4/4
    pattern_type: fixed_pattern
    velocity_base: 82
    target_octave: 1
    pattern:
    - offset: 0.0
      duration: 1.0
      velocity_factor: 1.00
      type: root
      glide_to_next: true
    - offset: 1.0
      duration: 0.5
      velocity_factor: 0.95
      type: fifth
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.90
      type: approach
    - offset: 2.0
      duration: 2.0
      velocity_factor: 1.00
      type: root
      glide_to_next: true
  bass_algo_walk_8ths:
    description: Scale‑walk 8ths based on chord progression.
    tags:
    - bass
    - algorithmic
    - scale_walk
    - eighth_notes
    time_signature: 4/4
    pattern_type: scale_walk
    velocity_base: 70
    target_octave: 2
    options:
      note_resolution_ql: 0.5
      direction: up_down
      start_on: root
      max_range_octaves: 1
      approach_notes: chromatic
  bass_algo_syncopated_octave_jump:
    description: Syncopated root + octave jumps for pop/rock.
    tags:
    - bass
    - algorithmic
    - octave_jump
    - syncopated
    time_signature: 4/4
    pattern_type: octave_jump
    velocity_base: 78
    target_octave: 2
    options:
      pattern_offsets_ql:
      - 0.0
      - 1.5
      - 2.0
      - 3.0
      accent_velocity_boost: 10
      humanize_timing: 0.02
  pedal_half:
    description: Pedal tone on tonic every half‑note (minimal verse).
    time_signature: 4/4
    pattern_type: pedal_note_fixed
    note_duration_ql: 2.0
    velocity_base: 78
    tags:
    - bass
    - pedal
    - half_notes
    - verse
  bass_algo_desc_fifths_quarters:
    description: Descending fifths in quarter notes for cadence.
    tags:
    - bass
    - algorithmic
    - descending_fifths
    - quarter_notes
    time_signature: 4/4
    pattern_type: descending_fifths
    velocity_base: 74
    target_octave: 2
    options:
      note_resolution_ql: 1.0
      length_beats: 4
      velocity_curve: crescendo
  bass_algo_modal_pedal:
    description: Modal pedal tone for ballads/film score.
    tags:
    - bass
    - algorithmic
    - pedal_tone
    - modal
    time_signature: 4/4
    pattern_type: pedal_tone
    velocity_base: 70
    target_octave: 2
    options:
      pedal_choice: tonic
      pedal_length_beats: 8
      fill_every_n_measures: 2
      humanize_velocity: 5
guitar_patterns:
  guitar_folk_strum_simple:
    description: "Folk pattern D _ D U _ D _ (feel = 1‑&‑2‑&‑3‑&‑4‑)."
    time_signature: "4/4"
    pattern_type: "fixed_pattern" # pattern_type を明記
    strum_width_sec: 0.035
    pattern: # fixed_pattern なので pattern は必須
    - offset: 0.0
      duration: 1.0
      velocity_factor: 0.90
      strum_direction: down # イベントごとのストローク方向
    - offset: 1.5
      duration: 0.5
      velocity_factor: 0.70
      strum_direction: down
    - offset: 2.0
      duration: 0.5
      velocity_factor: 0.80
      strum_direction: up
    - offset: 3.0
      duration: 1.0
      velocity_factor: 0.85
      strum_direction: down
    tags: [guitar,folk,strum,acoustic]
  guitar_ballad_arpeggio:
    description: "Gentle 6‑note P‑I‑M‑A arpeggio, fits 4/4 and 6/8 ballads."
    time_signature: "4/4"
    pattern_type: "arpeggio_indices" # pattern_type を明記
    arpeggio_indices: [0,3,2,1,3,2] # pattern は不要 (Optionalなので)
    note_duration_ql: 0.66
    strum_width_sec: 0.040
    velocity_base: 72
    tags: [guitar,arpeggio,ballad,gentle]
  guitar_power_chord_8ths:
    description: "Classic 8th‑note power‑chord driving rhythm – alt down/up."
    time_signature: "4/4"
    pattern_type: "fixed_pattern" # pattern_type を明記
    strum_width_sec: 0.028
    pattern: # fixed_pattern なので pattern は必須
    - { offset: 0.0, duration: 0.5, velocity_factor: 1.00, strum_direction: "down" } # stroke から strum_direction に統一する例
    - { offset: 0.5, duration: 0.5, velocity_factor: 0.90, strum_direction: "up" }
    - { offset: 1.0, duration: 0.5, velocity_factor: 1.00, strum_direction: "down" }
    - { offset: 1.5, duration: 0.5, velocity_factor: 0.90, strum_direction: "up" }
    - { offset: 2.0, duration: 0.5, velocity_factor: 1.00, strum_direction: "down" }
    - { offset: 2.5, duration: 0.5, velocity_factor: 0.90, strum_direction: "up" }
    - { offset: 3.0, duration: 0.5, velocity_factor: 1.00, strum_direction: "down" }
    - { offset: 3.5, duration: 0.5, velocity_factor: 0.90, strum_direction: "up" }
    velocity_base: 85
    palm_mute_level_recommended: 0.25 # これはジェネレータ側のロジックで使う情報 (モデルには直接影響しないかも)
    tags: [guitar,power_chord,eighth_notes,rock]
  guitar_funk_16th_chop:
    description: "16 分ブラッシング主体のファンクカッティング"
    time_signature: "4/4"
    pattern_type: "algorithmic_mute_chop" # pattern_type を明記
    options: {accent_on: [0,2], swing_ratio: 0.55}
    # pattern は不要 (algorithmic なので)
    velocity_base: 78
    tags: [guitar,funk,16th,chop,swing]
  guitar_rock_mute_16th:
    description: "Palm‑muted 16th‑note chug (down‑pick) for riff‑rock / funk‑rock."
    time_signature: "4/4"
    pattern_type: "mute_fixed_step" # pattern_type を明記
    step_duration_ql: 0.25
    note_articulation_factor: 0.35
    strum_direction_cycle: ["down"]
    # pattern は不要 (algorithmic またはジェネレータが内部生成するので)
    velocity_base: 80
    tags: [guitar,rock,mute,16th]
  guitar_slow_arpeggio:
    description: "Slow 4‑beat arpeggio (P I M A) – ideal for pre‑chorus build‑ups."
    time_signature: "4/4"
    pattern_type: "arpeggio_indices" # pattern_type を明記
    arpeggio_indices: [0, 3, 2, 1, 3, 2, 1, 0]
    # pattern は不要
    note_duration_ql: 0.5
    strum_width_sec: 0.05
    velocity_base: 68
    tags: [guitar, arpeggio, slow, pre_chorus]
  guitar_suspense_swell:
    description: "Crescendo tremolo swell – cinematic bridge."
    time_signature: "4/4"
    pattern_type: "tremolo_crescendo" # pattern_type を明記
    # pattern は不要 (アルゴリズムで生成)
    tremolo_rate_hz: 8
    crescendo_curve: "exponential"
    duration_beats: 4
    velocity_start: 55
    velocity_end: 90
    tags: [guitar, swell, tremolo, bridge, cinematic]
  guitar_transition_strum:
    description: "Hybrid down‑strum with rising anticipation (bar‑end accent)."
    time_signature: "4/4"
    pattern_type: "fixed_pattern" # pattern_type を明記
    strum_width_sec: 0.04
    pattern: # fixed_pattern なので pattern は必須
    - { offset: 0.0, duration: 1.0, velocity_factor: 0.8, strum_direction: "down" }
    - { offset: 1.0, duration: 1.0, velocity_factor: 0.82, strum_direction: "down" }
    - { offset: 2.0, duration: 1.0, velocity_factor: 0.85, strum_direction: "down" }
    - { offset: 3.0, duration: 1.0, velocity_factor: 1.00, strum_direction: "down", accent: true }
    velocity_base: 75
    tags: [guitar, transition, strum, anticipation]
  # ★★★ 不足している可能性のあるデフォルトパターンを追加 ★★★
  guitar_default_quarters: # GuitarStyleSelector のフォールバック先
    description: "Default quarter note strums/hits for guitar (Fallback)."
    time_signature: "4/4"
    pattern_type: "fixed_pattern"
    pattern:
    - { offset: 0.0, duration: 1.0, velocity_factor: 0.8, strum_direction: "down" }
    - { offset: 1.0, duration: 1.0, velocity_factor: 0.75, strum_direction: "down" }
    - { offset: 2.0, duration: 1.0, velocity_factor: 0.8, strum_direction: "down" }
    - { offset: 3.0, duration: 1.0, velocity_factor: 0.75, strum_direction: "down" }
    tags: [guitar, default, quarter_notes]
